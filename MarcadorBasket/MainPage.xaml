<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MarcadorBasket.MainPage"
             BackgroundColor="Black">

    <!-- Estilos generales para botones -->
    <ContentPage.Resources>
        <Style TargetType="Button" x:Key="BaseButton">
            <Setter Property="TextColor" Value="Black" />
            <Setter Property="CornerRadius" Value="12" />
            <Setter Property="HeightRequest" Value="36" />
            <Setter Property="FontAttributes" Value="Bold" />
        </Style>

        <!-- Botones de sumar puntos -->
        <Style TargetType="Button" x:Key="ScorePlusButton" BasedOn="{StaticResource BaseButton}">
            <Setter Property="BackgroundColor" Value="#00E676" />
            <!-- Verde -->
        </Style>

        <!-- Botones de restar puntos -->
        <Style TargetType="Button" x:Key="ScoreMinusButton" BasedOn="{StaticResource BaseButton}">
            <Setter Property="BackgroundColor" Value="#FF5252" />
            <!-- Rojo -->
        </Style>

        <!-- Botones de tiempo fuera -->
        <Style TargetType="Button" x:Key="TimeoutButton" BasedOn="{StaticResource BaseButton}">
            <Setter Property="BackgroundColor" Value="#FFB300" />
            <!-- Naranja -->
        </Style>

        <!-- Botones de reloj de juego -->
        <Style TargetType="Button" x:Key="GameClockButton" BasedOn="{StaticResource BaseButton}">
            <Setter Property="BackgroundColor" Value="#2979FF" />
            <!-- Azul -->
            <Setter Property="TextColor" Value="White" />
        </Style>

        <!-- Botones de reloj de posesión -->
        <Style TargetType="Button" x:Key="ShotClockButton" BasedOn="{StaticResource BaseButton}">
            <Setter Property="BackgroundColor" Value="#455A64" />
            <!-- Gris azulado -->
            <Setter Property="TextColor" Value="White" />
        </Style>
    </ContentPage.Resources>

    <Grid RowDefinitions="*,Auto"
          Padding="10">

        <!-- ======================================================
             FILA 0 — ZONA PRINCIPAL (LOCAL | CENTRO | VISITANTE)
             ====================================================== -->
        <Grid Grid.Row="0"
              ColumnDefinitions="Auto,*,Auto"
              ColumnSpacing="12">

            <!-- ==========================
                 COLUMNA 0: EQUIPO LOCAL
                 ========================== -->
            <VerticalStackLayout Grid.Column="0"
                                 HorizontalOptions="Center"
                                 VerticalOptions="Center"
                                 Spacing="10">

                <Label Text="LOCAL"
                       TextColor="White"
                       FontSize="20"
                       HorizontalOptions="Center" />

                <Label x:Name="lblScoreLocal"
                       Text="0"
                       TextColor="Yellow"
                       FontSize="42"
                       FontAttributes="Bold"
                       HorizontalOptions="Center" />

                <HorizontalStackLayout Spacing="6">
                    <Button Text="+1"
                            WidthRequest="70"
                            Style="{StaticResource ScorePlusButton}"
                            Clicked="OnLocalMas1Clicked" />
                    <Button Text="-1"
                            WidthRequest="70"
                            Style="{StaticResource ScoreMinusButton}"
                            Clicked="OnLocalMenos1Clicked" />
                </HorizontalStackLayout>

                <Label Text="Tiempos fuera"
                       TextColor="White"
                       FontSize="14"
                       HorizontalOptions="Center" />

                <Label x:Name="lblTiemposLocal"
                       Text="3"
                       TextColor="Red"
                       FontSize="20"
                       HorizontalOptions="Center" />

                <Button Text="Tiempo"
                        WidthRequest="90"
                        Style="{StaticResource TimeoutButton}"
                        Clicked="OnTiempoLocalClicked" />
            </VerticalStackLayout>



            <!-- ================================================
                 COLUMNA 1: TABLERO CENTRAL + RELOJES
                 ================================================ -->
            <VerticalStackLayout Grid.Column="1"
                                 HorizontalOptions="Center"
                                 VerticalOptions="Center"
                                 Spacing="10">

                <!-- ==== TABLERO CENTRAL ===== -->
                <Frame Padding="10"
                       BackgroundColor="#202020"
                       CornerRadius="8"
                       HasShadow="True">

                    <Grid RowDefinitions="Auto,Auto,Auto,Auto"
                          ColumnDefinitions="*,Auto,*"
                          ColumnSpacing="8"
                          RowSpacing="4">

                        <!-- FILA 0: NOMBRES -->
                        <Label Grid.Row="0" Grid.Column="0"
                               Text="LOCAL"
                               TextColor="White"
                               FontSize="14"
                               HorizontalTextAlignment="Center" />

                        <Label Grid.Row="0" Grid.Column="1"
                               Text="PERIODO"
                               TextColor="White"
                               FontSize="14"
                               HorizontalTextAlignment="Center" />

                        <Label Grid.Row="0" Grid.Column="2"
                               Text="VISITANTE"
                               TextColor="White"
                               FontSize="14"
                               HorizontalTextAlignment="Center" />

                        <!-- FILA 1: MARCADORES -->
                        <Label Grid.Row="1" Grid.Column="0"
                               Text="{Binding Source={x:Reference lblScoreLocal}, Path=Text}"
                               TextColor="Yellow"
                               FontSize="34"
                               FontAttributes="Bold"
                               HorizontalTextAlignment="Center" />

                        <Label Grid.Row="1" Grid.Column="1"
                               x:Name="lblPeriodo"
                               Text="1"
                               TextColor="Red"
                               FontSize="26"
                               HorizontalTextAlignment="Center" />

                        <Label Grid.Row="1" Grid.Column="2"
                               Text="{Binding Source={x:Reference lblScoreVisitante}, Path=Text}"
                               TextColor="Yellow"
                               FontSize="34"
                               FontAttributes="Bold"
                               HorizontalTextAlignment="Center" />

                        <!-- FILA 2: POSESION -->
                        <Label Grid.Row="2" Grid.ColumnSpan="3"
                               Text="POSESIÓN"
                               TextColor="White"
                               FontSize="12"
                               HorizontalTextAlignment="Center" />

                        <Label Grid.Row="3" Grid.ColumnSpan="3"
                               x:Name="lblRelojPosesion"
                               Text="24"
                               TextColor="Red"
                               FontSize="26"
                               HorizontalTextAlignment="Center" />
                    </Grid>
                </Frame>

                <!-- Reloj de juego -->
                <Label x:Name="lblRelojJuego"
                       Text="10:00"
                       TextColor="Yellow"
                       FontSize="34"
                       FontAttributes="Bold"
                       HorizontalOptions="Center" />

                <!-- =======================================
                     BOTONES INICIAR/PAUSAR JUEGO Y POSESIÓN
                     ======================================= -->
                <Grid ColumnDefinitions="*,*"
                      ColumnSpacing="12"
                      HorizontalOptions="Center">

                    <!-- COLUMNA 0 — JUEGO -->
                    <VerticalStackLayout Grid.Column="0"
                                         Spacing="4"
                                         HorizontalOptions="Center">
                        <Label Text="Juego"
                               TextColor="White"
                               FontSize="12"
                               HorizontalOptions="Center" />

                        <Button Text="Iniciar / Pausar"
                                WidthRequest="140"
                                FontSize="12"
                                Style="{StaticResource GameClockButton}"
                                Clicked="OnStartStopJuegoClicked" />
                    </VerticalStackLayout>

                    <!-- COLUMNA 1 — POSESIÓN -->
                    <VerticalStackLayout Grid.Column="1"
                                         Spacing="4"
                                         HorizontalOptions="Center">
                        <Label Text="Posesión"
                               TextColor="White"
                               FontSize="12"
                               HorizontalOptions="Center" />

                        <Button Text="Iniciar / Pausar"
                                WidthRequest="140"
                                FontSize="12"
                                Style="{StaticResource ShotClockButton}"
                                Clicked="OnStartStopPosesionClicked" />
                    </VerticalStackLayout>

                </Grid>

                <!-- =======================================
                     FILA ÚNICA: REINICIAR, RESET 24, SIG. PERIODO
                     ======================================= -->
                <HorizontalStackLayout Spacing="10"
                                       HorizontalOptions="Center"
                                       Margin="0,-1,0,0">

                    <Button Text="Reiniciar cuarto"
                            WidthRequest="130"
                            FontSize="12"
                            Style="{StaticResource GameClockButton}"
                            Clicked="OnResetCuartoClicked" />

                    <Button Text="Reset 24"
                            WidthRequest="110"
                            FontSize="12"
                            Style="{StaticResource ShotClockButton}"
                            Clicked="OnReset24Clicked" />

                    <Button Text="Siguiente periodo"
                            WidthRequest="130"
                            FontSize="12"
                            Style="{StaticResource GameClockButton}"
                            Clicked="OnSiguientePeriodoClicked" />
                </HorizontalStackLayout>

            </VerticalStackLayout>



            <!-- ==========================
                 COLUMNA 2: EQUIPO VISITANTE
                 ========================== -->
            <VerticalStackLayout Grid.Column="2"
                                 HorizontalOptions="Center"
                                 VerticalOptions="Center"
                                 Spacing="10">

                <Label Text="VISITANTE"
                       TextColor="White"
                       FontSize="20"
                       HorizontalOptions="Center" />

                <Label x:Name="lblScoreVisitante"
                       Text="0"
                       TextColor="Yellow"
                       FontSize="42"
                       FontAttributes="Bold"
                       HorizontalOptions="Center" />

                <HorizontalStackLayout Spacing="6">
                    <Button Text="+1"
                            WidthRequest="70"
                            Style="{StaticResource ScorePlusButton}"
                            Clicked="OnVisitMas1Clicked" />
                    <Button Text="-1"
                            WidthRequest="70"
                            Style="{StaticResource ScoreMinusButton}"
                            Clicked="OnVisitMenos1Clicked" />
                </HorizontalStackLayout>

                <Label Text="Tiempos fuera"
                       TextColor="White"
                       FontSize="14"
                       HorizontalOptions="Center" />

                <Label x:Name="lblTiemposVisitante"
                       Text="3"
                       TextColor="Red"
                       FontSize="20"
                       HorizontalOptions="Center" />

                <Button Text="Tiempo"
                        WidthRequest="90"
                        Style="{StaticResource TimeoutButton}"
                        Clicked="OnTiempoVisitClicked" />
            </VerticalStackLayout>

        </Grid>

        <!-- ==========================
             FILA 1 — MENSAJE
             ========================== -->
        <Label Grid.Row="1"
               x:Name="lblMensaje"
               Text=""
               TextColor="White"
               HorizontalOptions="Center"
               Margin="0,4,0,0" />

    </Grid>
</ContentPage>

